#occ-step

通过occ，提取模型（step格式），获取模型中零件的参数
将这些参数作为特征进行分类学习
但效果不是很好

# 效果
## 决策树
用项目A的模型学习，预测项目A模型，没有问题，但也没有意义
用项目A和项目B模型学习，很容易过拟合，这样的算法模型，是无法用来预测项目C的

对于过拟合问题，一般处理办法是增加训练数据量、减少特征数量、特征缩放
### 增加训练数据量
这个有客观条件限制，目前项目数据是一定的，想大量增加很难
要么就采用一些参数化建模的方式，大批量的创建模型（也有论文中是这么做的），但总感觉本末倒置
如果能参数化创建了，对零件的类别可以直接在创建时分类，
当然，这种分类，也只能在创建时做一次，对于模型在制造环节流转，不同的工序可能需要不同的分类方式

2023.7.21 增加了龙门桥一个节段，accuracy从44%增长到了47%

### 减少特征数量
直接对panda数据进行pca处理，压缩成5个维度，效果是有的，但仍然在40%的正确率，距离理想结果还很远

### 特征缩放
数据都是经过归一化处理的，可能有些整数也要进行归一化处理
整数也进行了归一化处理，结果一般(44%的跨项目的预测accuracy)

2023.7.26
v3版本的数据集，将所有U肋、I肋、加筋全部算为JJ
JJ占了训练集的85%，但测试集预测结果并不好，
虽然正确率能提高到75%以上，但数据集分布如此不均匀，全部预测成JJ反而能有85%的正确率

2023.8.2
v2.1版本数据集，直接去除角点加筋，只保留最简单的顶板、底板、边腹板、横隔板、纵隔板
并且把厦门二东的模型进行了旋转，保证所有桥梁模型都是相同的走向
而且把板的法线数据（directX，Y，Z）都进行了绝对值（因为同样的面，有可能法线相反）
最终计算结果也不是很理想，和之前没什么差别
即使进行超参数调试，找到好的参数，仍然过拟合严重

2023.8.2
v3.1版本数据集，标签只分成两类（main，sub），只分成主板和肋板，
预测最好的模型，RandomForestClassifier，confusion_matrix为"[[ 39   0],[ 97 473]]"
但距离直接使用，仍有一定距离

## 聚类
如果设置聚类的个数，比较容易将空间上临近的分成一类，不满足我本来的想法
如果不设置聚类个数，很容易分成几十-几百个类别，而且很不稳定，每一次聚类分析，结果都有可能不一致。
